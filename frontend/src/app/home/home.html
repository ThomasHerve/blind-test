
<div class="container" *ngIf="connected">
  <h2>Mes Blind Tests</h2>

  <mat-list *ngIf="entries.length > 0; else noEntries">
    <mat-list-item
      *ngFor="let entry of entries"
      (click)="onEntryClick(entry)"
      class="entry-item"
    >
      <mat-icon matListItemGraphic>music_note</mat-icon>
      <span MatLine>{{ entry.title }}</span>
      <button
        mat-icon-button
        matListItemMeta
        aria-label="Supprimer"
        (click)="deleteEntry(entry); $event.stopPropagation()"
      >
        <mat-icon>delete</mat-icon>
      </button>
      <button
        *ngIf="entry.isOwner"
        mat-icon-button
        matListItemMeta
        aria-label="Supprimer"
        (click)="manageCollaborators(entry); $event.stopPropagation()"
      >
        <mat-icon>person</mat-icon>
      </button>
    </mat-list-item>
  </mat-list>

  <ng-template #noEntries>
    <p>Aucun blind test pour le moment. Cliquez sur « + Créer » pour en ajouter.</p>
  </ng-template>

  <button
    mat-fab
    color="accent"
    class="create-button"
    aria-label="Créer une entrée"
    (click)="openCreateDialog()"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>
<div class="container" *ngIf="!connected">
  <h1>Connectez vous pour utiliser le site</h1>
</div>